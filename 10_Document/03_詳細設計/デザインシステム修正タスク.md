# デザインシステム修正タスク

## 概要
OtokuCheckerアプリの最小限のデザインシステム構築を行います。
既存コンポーネントの重複コード削減と統一されたスタイリングの実現を目指します。

## 修正対象ファイル構造

```
20_Source/OtokuChecker/OtokuChecker/
├── DesignSystem/                     # 新規作成
│   ├── AppColors.swift               # 新規 - カラー定義
│   └── ViewModifiers.swift           # 新規 - 共通スタイル
├── Views/Components/                 # 既存修正
│   ├── ProductInputView.swift        # 修正 - 共通スタイル適用
│   ├── ValidatedTextField.swift      # 修正 - カラー統一
│   └── ComparisonResultView.swift    # 修正 - スタイル統一
└── ContentView.swift                 # 修正 - 共通スタイル適用
```

## タスク詳細

### Phase 1: デザインファンデーション作成

#### 1.1 AppColors.swift 作成
**パス**: `20_Source/OtokuChecker/OtokuChecker/DesignSystem/AppColors.swift`

**内容**:
- Primary色定義（メインボタン用）
- Secondary色定義
- Semantic colors（Success/Warning/Error）
- Background colors統一
- iOS Dynamic Color対応

#### 1.2 ViewModifiers.swift 作成
**パス**: `20_Source/OtokuChecker/OtokuChecker/DesignSystem/ViewModifiers.swift`

**内容**:
- カードスタイルModifier（現在`.background(Color(.systemGray6)).cornerRadius(8)`の統一）
- プライマリボタンスタイルModifier
- セカンダリボタンスタイルModifier
- 入力フィールドスタイルModifier

### Phase 2: 既存コンポーネント修正

#### 2.1 ProductInputView.swift 修正
**パス**: `20_Source/OtokuChecker/OtokuChecker/Views/Components/ProductInputView.swift`

**修正箇所**:
- Line 92-93: `.background(Color(.systemGray6)).cornerRadius(8)` → 共通カードスタイル適用
- Line 32: `.foregroundColor(.blue)` → AppColors使用
- 重複するスタイル定義の統一

#### 2.2 ValidatedTextField.swift 修正
**パス**: `20_Source/OtokuChecker/OtokuChecker/Views/Components/ValidatedTextField.swift`

**修正箇所**:
- Line 44, 50: ハードコードされた色 → AppColors使用
- Line 61, 84, 100: カラー定義の統一
- Line 120-127: borderColor計算ロジックの簡素化

#### 2.3 ComparisonResultView.swift 修正
**パス**: `20_Source/OtokuChecker/OtokuChecker/Views/Components/ComparisonResultView.swift`

**修正内容**:
- 既存スタイルの共通Modifier適用
- カラーコードの統一

#### 2.4 ContentView.swift 修正
**パス**: `20_Source/OtokuChecker/OtokuChecker/ContentView.swift`

**修正箇所**:
- Line 127-128: `.background(canPerformComparison ? Color.blue : Color.gray)` → AppColors使用
- Line 182-183: 同様のカラー統一
- 重複するボタンスタイルの共通化

## 実装時の注意事項

### 1. Swift Package Manager設定不要
- 外部依存関係は追加しない
- SwiftUIとFoundationのみ使用

### 2. 既存機能への影響最小化
- 既存のPreview機能を維持
- バリデーション機能に影響を与えない
- レイアウト構造は変更しない

### 3. iOS対応
- iOS 15.0+対応維持
- Dynamic Type対応
- ダークモード基本対応（システム標準色使用）

## 完了基準

- [ ] AppColors.swiftで全色定義完了
- [ ] ViewModifiers.swiftで共通スタイル定義完了  
- [ ] 4つの既存ファイルでハードコードされた色・スタイルを全て置換
- [ ] Previewが正常に動作
- [ ] ビルドエラーなし
- [ ] 既存の機能・レイアウトに影響なし

## 推定工数

- **Phase 1**: 1-2時間（新規ファイル作成）
- **Phase 2**: 1-2時間（既存ファイル修正）
- **テスト・調整**: 30分-1時間

**合計**: 3-5時間程度

## 今後の拡張性

この最小限のデザインシステムは、将来的に以下の拡張が可能：
- カスタムテーマ追加
- アニメーション統一
- より詳細なコンポーネント分類

ただし、当面は上記の最小限の修正のみを実施し、過度な拡張は避けます。