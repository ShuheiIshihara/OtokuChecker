# お買い物比較アプリ - 要件定義書

## 1. プロジェクト概要

### 1.1 アプリ名
**お得チェッカー**（仮称）

### 1.2 プロジェクトの目的
買い物中に商品を瞬時に比較し、最適な購入判断を支援するアプリの開発

### 1.3 解決する課題
- 店頭での「どちらがお得？」という迷いを数秒で解決
- 異なる容量・重量の商品の単価比較
- 過去の購入データとの比較による賢い買い物の実現
- 価格情報の効率的な蓄積・活用

### 1.4 ターゲットユーザー
- **主要ターゲット**: 主婦・主夫（日常的に買い物をする方）
- **副次ターゲット**: 節約意識の高い消費者、価格比較を重視する方
- **年齢層**: 30-50代
- **特徴**: スマートフォンの基本操作が可能、買い物中の片手操作が多い

## 2. 機能要件

### 2.1 コア機能

#### 2.1.1 簡単比較機能（メイン機能）
**概要**: 2つの商品を入力して単価を比較する機能

**入力項目**:
- 商品A: 商品名、価格、容量・重量、単位
- 商品B: 商品名、価格、容量・重量、単位

**処理内容**:
- 自動単価計算（円/kg、円/L等）
- 単位の自動統一（g→kg、ml→L等）
- お得度の判定・表示
- 価格差・パーセンテージ表示

**出力結果**:
- 勝者の明示（🏆マーク）
- 各商品の単価表示
- 価格差（絶対値・パーセンテージ）
- お得度の視覚的表現

#### 2.1.2 過去記録参照機能
**概要**: 比較対象として過去に保存した商品データを利用する機能

**機能詳細**:
- 商品入力エリアの📋ボタンから過去記録一覧を表示
- 商品名での検索・絞り込み機能
- 店舗名・購入日での識別表示
- 選択後の自動データ入力

**使用ケース**:
- 新商品 vs 過去に購入した商品
- 特売品 vs 通常価格での比較
- 異なる店舗での価格比較

#### 2.1.3 データ保存機能
**概要**: 比較結果から必要な商品データを詳細記録として保存

**保存データ**:
- 基本情報: 商品名、品目、カテゴリ
- 価格情報: 価格、税込/税別、税率、店舗名
- 容量情報: 容量・重量、単位
- 補助情報: 登録日、メモ
- 計算結果: 単価

**データ引き継ぎ**:
- 比較画面からの3項目自動入力
- 追加項目（品目、店舗名等）の手動入力
- 自動計算済み単価の表示

### 2.2 データ管理機能

#### 2.2.1 履歴管理機能
**商品記録履歴**:
- 保存された商品データの一覧表示
- 商品別グループ表示（同一商品の複数記録）
- 最安値情報の表示
- 時系列・商品別の表示切り替え

**比較履歴**:
- 保存しなかった比較結果の履歴
- 比較日時・対象商品・選択結果の記録
- 過去の判断参考機能

#### 2.2.2 商品詳細表示機能
**概要**: 同一商品の複数店舗での価格比較表示

**表示内容**:
- 最安値情報（店舗名・日付）
- 店舗別価格一覧
- 単価ランキング表示
- 各記録の編集・削除機能

#### 2.2.3 検索・フィルタ機能
**検索機能**:
- 商品名での部分一致検索
- カテゴリでの絞り込み
- 店舗名での絞り込み

**フィルタ機能**:
- 表示切り替え（時系列/商品別）
- カテゴリタブでの分類表示
- 期間指定での絞り込み

### 2.3 カテゴリ管理機能

#### 2.3.1 基本カテゴリ
**システム提供カテゴリ**:
- 全て（全商品表示用）
- 食料品（米、パン、調味料、飲料等）
- 日用品（洗剤、シャンプー、ティッシュ等）

#### 2.3.2 カスタムカテゴリ機能
**ユーザー作成カテゴリ**:
- カテゴリ名の任意設定（20文字以内）
- アイコン選択（絵文字から選択）
- 既存商品の移動機能
- カテゴリの編集・削除機能

**制限事項**:
- 無料版: 5個まで作成可能
- 有料版: 無制限作成
- システムカテゴリは削除不可

### 2.4 設定機能

#### 2.4.1 基本設定
- デフォルト税率設定（10%）
- デフォルト単位設定（g/ml等）
- 税込表示の切り替え
- 通知設定

#### 2.4.2 データ管理設定
- 比較履歴の保存件数設定
- データエクスポート機能
- データ削除機能
- プライバシー設定

## 3. 非機能要件

### 3.1 性能要件
- **起動時間**: 3秒以内
- **比較計算**: 1秒以内で結果表示
- **データ保存**: 2秒以内で完了
- **検索応答**: 1秒以内で結果表示

### 3.2 ユーザビリティ要件
- **片手操作対応**: 買い物中の片手操作に最適化
- **直感的操作**: iOS標準パターンに準拠
- **入力効率**: 最小限の入力で最大限の結果
- **エラー対応**: 分かりやすいエラーメッセージ

### 3.3 互換性要件
- **対応OS**: iOS 15.0以上
- **デバイス**: iPhone（iPadは対象外）
- **画面サイズ**: iPhone SE以上のサイズに対応

### 3.4 セキュリティ要件
- **データ暗号化**: Core Dataの暗号化
- **プライバシー保護**: 個人情報の最小化
- **ローカル保存**: 基本的にデバイス内完結

## 4. 制約事項

### 4.1 技術的制約
- **開発言語**: Swift（SwiftUI）
- **データベース**: Core Data（ローカル）
- **外部API**: Phase 1では使用しない
- **ライブラリ**: 最小限に抑制

### 4.2 ビジネス制約
- **開発期間**: Phase 1は3-4ヶ月
- **開発リソース**: 1名での開発想定
- **運用コスト**: 可能な限り低く抑制

### 4.3 機能的制約
- **バーコード読み取り**: Phase 1では非対応
- **クラウド同期**: Phase 1では非対応
- **商品画像**: Phase 1では非対応
- **SNS連携**: Phase 1では非対応

## 5. 成功指標（KPI）

### 5.1 利用指標
- **ダウンロード数**: 初月500DL、3ヶ月2,000DL
- **継続率**: 1週間後30%、1ヶ月後15%
- **比較実行回数**: ユーザー当たり週3回以上

### 5.2 品質指標
- **ユーザーレビュー**: 平均3.5以上
- **クラッシュ率**: 1%未満
- **レスポンス時間**: 95%のケースで要件内

### 5.3 収益指標
- **課金率**: 3%以上
- **月間収益**: 3ヶ月後月10万円以上
- **LTV**: ユーザー当たり500円以上

## 6. リスク分析

### 6.1 技術リスク
- **パフォーマンス**: 大量データでの処理速度低下
- **データ整合性**: Core Dataでの同期問題
- **単位変換**: 複雑な単位での計算エラー

### 6.2 市場リスク
- **競合アプリ**: 類似機能アプリの登場
- **ユーザーニーズ**: 想定と異なる使用パターン
- **技術変化**: iOS仕様変更への対応

### 6.3 運用リスク
- **サポート対応**: ユーザーサポートの負荷
- **アップデート**: 継続的な機能改善の必要性
- **法的対応**: プライバシー法規制への対応

## 7. 今後の展開

### 7.1 Phase 2（機能拡張）
- 課金機能の実装
- 割引計算機能
- 高度な比較機能
- UI/UX改善

### 7.2 Phase 3（クラウド対応）
- iCloud同期機能
- バーコード読み取り機能
- ユーザー間データ共有
- 高度な類似判定機能

### 7.3 将来構想
- 商品価格トレンド分析
- AIによる購入推奨機能
- 店舗情報との連携
- レシート読み取り機能