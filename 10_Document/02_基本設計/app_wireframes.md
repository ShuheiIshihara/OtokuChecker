# お買い物比較アプリ - UIワイヤーフレーム設計書

## 設計思想

### デザインコンセプト
**「買い物中の迷いを数秒で解決する、シンプルで直感的なUI」**

### 設計原則
1. **比較機能最優先**: メイン画面を比較機能に特化
2. **片手操作対応**: 買い物中の片手操作を前提とした配置
3. **iOS標準準拠**: ユーザーの学習コストを最小化
4. **段階的情報表示**: 必要な情報を必要な時に表示

### ユーザーエクスペリエンス目標
- **起動から比較まで**: 30秒以内
- **比較から判断まで**: 数秒で視覚的に理解
- **保存までの流れ**: 追加1分以内で完了

## 画面構成

### 画面遷移図
```
メイン画面（比較）
├─ 📋ボタン → 過去記録選択画面 → メイン画面
├─ 💾保存ボタン → データ入力画面 → メイン画面
├─ 📊履歴ボタン → 履歴画面
│   ├─ 🔍検索 → 検索結果
│   ├─ ➕新規追加 → データ入力画面
│   └─ 商品詳細 → 商品詳細画面
└─ ⚙️設定ボタン → 設定画面
    └─ カテゴリ管理 → カテゴリ管理画面
```

### 情報アーキテクチャ
```
レベル1: 比較機能（メイン）
├─ 商品入力（A/B）
├─ 比較実行
└─ 結果表示

レベル2: データ管理
├─ 履歴一覧
├─ 商品詳細
└─ 検索機能

レベル3: 設定・管理
├─ カテゴリ管理
├─ 基本設定
└─ データ管理
```

## 操作フロー概要（新設計）

```
メイン画面（簡単比較）
├─ 比較実行 → 結果表示 → [必要に応じて] データ保存
├─ 履歴表示 → 過去の比較・保存データ確認
└─ ヘッダー設定 → 設定画面
```

## 1. メイン画面（簡単比較画面）

```
┌─────────────────────────────────┐
│ お得チェッカー        📊 ⚙️    │ ← ヘッダー（履歴・設定）
├─────────────────────────────────┤
│                               │
│ 🏪 商品A                   📋 │ ← 商品A入力エリア + 履歴参照
│ ┌─────────────────────────┐     │
│ │ 商品名 [コシヒカリ 5kg    ] │     │
│ │ 価格   [1,400] 円         │     │
│ │ 容量   [5] [kg ▼]         │     │
│ └─────────────────────────┘     │
│                               │
│ 🛒 商品B                   📋 │ ← 商品B入力エリア + 履歴参照
│ ┌─────────────────────────┐     │
│ │ 商品名 [コシヒカリ 2kg    ] │     │
│ │ 価格   [650] 円           │     │
│ │ 容量   [2] [kg ▼]         │     │
│ └─────────────────────────┘     │
│                               │
├─────────────────────────────────┤
│        [💡 比較する]            │ ← メイン機能ボタン
├─────────────────────────────────┤
│ 💡 比較結果                    │ ← 結果表示エリア
│                               │
│ 🏆 商品A がお得！              │
│                               │
│ 商品A: 280円/kg               │
│ 商品B: 325円/kg               │
│ → 45円/kg の差 (13.8%お得)    │
│                               │
│ [💾 商品Aを保存★] [💾 商品Bを保存] │ ← 必要に応じて保存
│                               │
└─────────────────────────────────┘
```

### 履歴参照ボタン（📋）の動作

#### 商品A（または商品B）の📋ボタンタップ時
```
┌─────────────────────────────────┐
│ ← 過去の記録から選択            │
├─────────────────────────────────┤
│                               │
│ 🔍 [検索: コシヒカリ        ] │ ← 商品名で絞り込み
│                               │
│ 📊 過去の記録                  │
│                               │
│ ┌─ お米 ──────────────────┐   │
│ │ 🍚 コシヒカリ 5kg           │   │
│ │ A店: 280円/kg (8/15)       │   │
│ │ [選択]                     │   │
│ └───────────────────────────┘   │
│                               │
│ ┌─ お米 ──────────────────┐   │
│ │ 🍚 コシヒカリ 2kg           │   │
│ │ B店: 320円/kg (8/10)       │   │
│ │ [選択]                     │   │
│ └───────────────────────────┘   │
│                               │
│ ┌─ お米 ──────────────────┐   │
│ │ 🍚 あきたこまち 5kg         │   │
│ │ C店: 300円/kg (8/8)        │   │
│ │ [選択]                     │   │
│ └───────────────────────────┘   │
│                               │
│ [キャンセル]                   │
└─────────────────────────────────┘
```

#### 過去の記録選択後のメイン画面
```
┌─────────────────────────────────┐
│ お得チェッカー        📊 ⚙️    │
├─────────────────────────────────┤
│                               │
│ 🏪 商品A（今見ている商品）   📋 │
│ ┌─────────────────────────┐     │
│ │ 商品名 [コシヒカリ 5kg    ] │     │
│ │ 価格   [1,400] 円         │     │
│ │ 容量   [5] [kg ▼]         │     │
│ └─────────────────────────┘     │
│                               │
│ 🛒 商品B（過去の記録）      📋 │ ← 過去データ取得済み表示
│ ┌─────────────────────────┐     │
│ │ 商品名 [コシヒカリ 5kg    ] │ ← 自動入力済み
│ │ 価格   [1,400] 円 (A店)   │ ← 自動入力済み + 店舗名表示
│ │ 容量   [5] [kg ▼]         │ ← 自動入力済み
│ │ 📅 8/15 の記録             │ ← 記録日表示
│ └─────────────────────────┘     │
│                               │
├─────────────────────────────────┤
│        [💡 比較する]            │
├─────────────────────────────────┤
│ 💡 比較結果                    │
│                               │
│ 🤷 同じ価格です                │ ← 同一商品・同一価格の場合
│                               │
│ 商品A: 280円/kg（今回）        │
│ 商品B: 280円/kg（A店・8/15）   │
│ → 価格差なし                  │
│                               │
│ ℹ️ A店と同じ価格です            │
│                               │
│ [💾 商品Aを保存] [📊 履歴で確認] │
│                               │
└─────────────────────────────────┘
```

## 2. データ入力画面（保存ボタンタップ時）

```
┌─────────────────────────────────┐
│ ← 商品を保存             ✓   │ ← ヘッダー（保存ボタン）
├─────────────────────────────────┤
│                               │
│ 📝 商品情報 ※比較結果から引き継ぎ │
│                               │
│ 商品名   [コシヒカリ 5kg    ] │ ← 自動入力済み
│ 品目     [お米            ] │ ← 手動入力
│ カテゴリ [食料品 ▼]          │ ← デフォルト値
│                               │
│ 💰 価格情報                    │
│                               │
│ 価格     [1,400] 円          │ ← 自動入力済み
│ ○税込  ●税別                  │ ← デフォルト設定
│ 税率     [10] %               │
│ 店舗名   [              ] │ ← 手動入力
│                               │
│ 📏 容量・重量                  │
│                               │
│ 容量     [5] [kg ▼]          │ ← 自動入力済み
│                               │
│ 📅 その他                      │
│                               │
│ 登録日   [2025/08/15 ▼]       │ ← 今日の日付
│ メモ     [比較で選択]          │ ← 自動メモ
│                               │
├─────────────────────────────────┤
│ ✨ 計算結果                    │
│                               │
│ 単価: 280円/kg                │ ← 自動計算済み
│                               │
└─────────────────────────────────┘
```

## 3. 履歴画面（📊ボタンタップ時）

```
┌─────────────────────────────────┐
│ ← 履歴                 🔍 ➕ │ ← ヘッダー（検索・新規追加）
├─────────────────────────────────┤
│                               │
│ 表示切替: [時系列] [商品別]     │ ← 表示方法切替
│ カテゴリ: [全て ▼]             │ ← カテゴリフィルター
│                               │
├─────────────────────────────────┤
│ 🍚 お米 (3件)                 │ ← 商品グループ表示
│ 最安値: 280円/kg (A店)         │
│ 最新: 8/15 | [詳細] [追加]    │
├─────────────────────────────────┤
│ 🍞 パン (2件)                 │
│ 最安値: 120円/個 (C店)         │
│ 最新: 8/14 | [詳細] [追加]    │
├─────────────────────────────────┤
│ 🥛 牛乳 (1件)                 │
│ 単価: 180円/L (D店)           │
│ 最新: 8/10 | [詳細] [追加]    │
├─────────────────────────────────┤
│                               │
│ 📊 比較履歴 (保存なし)          │ ← 比較のみ実行した履歴
│                               │
│ 8/15: お米5kg vs 2kg → 5kg選択 │
│ 8/14: 牛乳1L vs 500ml → 1L選択 │
│ 8/13: パン6枚 vs 8枚 → 8枚選択  │
│                               │
└─────────────────────────────────┘
```

## 4. 商品詳細画面

```
┌─────────────────────────────────┐
│ ← お米                 ➕     │ ← ヘッダー（新しい価格追加）
├─────────────────────────────────┤
│                               │
│ 🏆 最安値情報                  │
│ 280円/kg (A店, 8/15)          │
│                               │
│ 📊 価格比較 (3件)              │
│                               │
│ ┌─ A店 ────────────────────┐   │
│ │ 280円/kg | 5kg | 1,400円   │   │
│ │ 税込 | 8/15 | 比較で選択    │   │
│ │ [編集] [複製] [削除]        │   │
│ └───────────────────────────┘   │
│                               │
│ ┌─ B店 ────────────────────┐   │
│ │ 320円/kg | 2kg | 640円     │   │
│ │ 税別 | 8/10 | 直接入力      │   │
│ │ [編集] [複製] [削除]        │   │
│ └───────────────────────────┘   │
│                               │
│ ┌─ C店 ────────────────────┐   │
│ │ 350円/kg | 10kg | 3,500円  │   │
│ │ 税込 | 8/8 | 大容量         │   │
│ │ [編集] [複製] [削除]        │   │
│ └───────────────────────────┘   │
│                               │
└─────────────────────────────────┘
```

## 5. 設定画面

```
┌─────────────────────────────────┐
│ ← 設定                       │
├─────────────────────────────────┤
│                               │
│ 📁 カテゴリ管理                │
│ ┌─────────────────────────┐     │
│ │ 📊 カテゴリ一覧を編集        │     │
│ │ ➕ 新しいカテゴリを追加      │     │
│ └─────────────────────────┘     │
│                               │
│ 💰 課金・アップグレード         │
│ ┌─────────────────────────┐     │
│ │ 現在：無料版 (履歴10件)      │     │
│ │ [プレミアムにアップグレード] │     │
│ └─────────────────────────┘     │
│                               │
│ ⚙️ 比較設定                    │
│ デフォルト単位 [g ▼]           │
│ 税込表示      [ON ▼]           │
│ 税率設定      [10] %           │
│                               │
│ 📊 履歴・データ管理            │
│ 比較履歴の保存 [30件]          │
│ データエクスポート              │
│ データ削除                     │
│                               │
│ ℹ️ アプリ情報                  │
│ バージョン    1.0.0           │
│ お問い合わせ                   │
│ プライバシーポリシー            │
│                               │
└─────────────────────────────────┘
```

## 主要な操作フロー（新設計）

### 1. 基本的な使用フロー（最重要）
```
メイン画面（比較） → 商品情報入力 → [比較する] → 結果確認 → [判断完了]
                                                    ↓（必要に応じて）
                                           [保存] → データ入力画面 → 履歴蓄積
```

### 2. 買い物中の典型的な使用例
```
店頭で商品を手に取る → アプリ起動（比較画面） → 3項目×2商品入力 → 比較実行 → 判断

お得な商品を購入決定 → [保存ボタン] → 店舗名等の追加情報入力 → 保存完了
```

### 3. 過去記録との比較フロー（新機能）
```
店頭で商品発見 → アプリ起動 → 商品A入力 → 商品B[📋]タップ → 過去記録選択 → 比較実行 → 判断

例：「今日見つけた特売品が、いつものお店より安いか？」を即座に判定
```

### 4. 蓄積データの活用
```
メイン画面 → [📊履歴] → 過去のデータ確認 → 商品詳細 → 価格推移確認
```

### 5. 直接データ入力（従来型の使用）
```
履歴画面 → [➕新規追加] → データ入力画面 → 保存
```

## 設計変更のポイント

### 1. **画面の優先順位変更**
```
旧設計: メイン画面 = 履歴一覧
新設計: メイン画面 = 簡単比較
```

### 2. **操作フローの最適化**
```
旧: 記録中心（記録 → 比較）
新: 比較中心（比較 → 必要に応じて記録）
```

### 3. **ヘッダーボタンの再配置**
```
メイン画面: [📊履歴] [⚙️設定]
履歴画面: [🔍検索] [➕新規追加]
```

### 4. **比較履歴の追加**
```
保存しなかった比較結果も一定期間保持
「どの商品を選んだか」の履歴を残す
```

## 新設計の利点

### 買い物中の使いやすさ
- アプリ起動 → 即座に比較開始
- 迅速な判断が可能
- 必要最小限の操作

### データ蓄積の合理性
- 本当に必要なデータのみ保存
- 比較履歴で過去の判断を参照可能
- 段階的なデータ入力

### 機能の明確化
- 比較機能がメイン、記録機能はサブ
- 買い物中の実用性を最優先
- シンプルで迷いのない操作

この新設計はいかがでしょうか？買い物中の実際の使用シーンにより適した設計になったと思います。